<header
  class="fixed top-0 left-0 w-full z-50 transition-all duration-300"
  [class.bg-white/80]="scrolled()"
  [class.backdrop-blur-xl]="scrolled()"
  [class.shadow-lg]="scrolled()"
>
  <div class="scroll-progress" [style.width.%]="scrollProgress()"></div>

  <nav class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
    <a href="/" [attr.aria-label]="nav.digitalBond" class="flex items-center gap-3">
      <img
        src="/assets/logo/logo-96.webp"
        srcset="
          /assets/logo/logo-48.webp   48w,
          /assets/logo/logo-96.webp   96w,
          /assets/logo/logo-192.webp 192w
        "
        sizes="48px"
        width="48"
        class="h-10 w-10"
        [alt]="nav.digitalBond"
      />

      <span
        class="text-xl font-bold bg-linear-to-r from-(--primary) to-red-500 bg-clip-text text-transparent"
      >
        {{ nav.digitalBond }}
      </span>
    </a>

    <ul class="hidden md:flex gap-10 text-gray-800 font-medium">
      @for (item of sections; track item.id) {
        <li>
          <a
            [routerLink]="[]"
            [fragment]="item.id"
            class="nav-link"
            [attr.aria-label]="item.label()"
            [class.active-nav]="activeSection() === item.id"
          >
            {{ item.label() }}
          </a>
        </li>
      }
    </ul>

    <div class="hidden md:flex items-center gap-6">
      <a [routerLink]="[]" fragment="contact" class="cta-btn">
        {{ nav.getStarted }}
      </a>

      <div class="lang-switch">
        <div
          class="lang-slider"
          [style.transform]="currentLang() === 'ar' ? 'translateX(100%)' : 'translateX(0%)'"
        ></div>

        <button
          type="button"
          class="lang-btn"
          [class.active]="currentLang() === 'en'"
          (click)="switchLang('en')"
        >
          EN
        </button>

        <button
          type="button"
          class="lang-btn"
          [class.active]="currentLang() === 'ar'"
          (click)="switchLang('ar')"
        >
          AR
        </button>
      </div>
    </div>

    <button class="md:hidden hamburger" (click)="toggleMenu()" [attr.aria-label]="nav.toggleMenu">
      <span [class.open]="mobileOpen()"></span>
    </button>
  </nav>

  <div class="mobile-menu" [class.open]="mobileOpen()">
    <div class="mobile-menu-inner">
      @for (item of sections; track item.id) {
        <a
          [routerLink]="[]"
          [fragment]="item.id"
          class="nav-link"
          [attr.aria-label]="item.label()"
          [class.active-nav]="activeSection() === item.id"
          (click)="closeMenu()"
        >
          {{ item.label() }}
        </a>
      }

      <a
        [routerLink]="[]" fragment="contact"
        [attr.aria-label]="nav.getStarted"
        class="mobile-cta"
        (click)="closeMenu()"
      >
        {{ nav.getStarted }}
      </a>

      <div class="flex flex-col items-center gap-6">
        <div class="lang-switch">
          <div
            class="lang-slider"
            [style.transform]="currentLang() === 'ar' ? 'translateX(100%)' : 'translateX(0%)'"
          ></div>

          <button
            type="button"
            class="lang-btn"
            [class.active]="currentLang() === 'en'"
            (click)="switchLang('en')"
          >
            EN
          </button>

          <button
            type="button"
            class="lang-btn"
            [class.active]="currentLang() === 'ar'"
            (click)="switchLang('ar')"
          >
            AR
          </button>
        </div>
      </div>
    </div>
  </div>
</header>
